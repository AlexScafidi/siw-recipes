<!DOCTYPE html>
<html>
	<head>
		<meta charset="ISO-8859-1">
    	<meta name="viewport" content="width=device-width, initial-scale=1">
    	<title>Nuova ricetta - siw recipe</title>
    	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    	<link rel="stylesheet" href="/css/style.css" />
    	<link rel="stylesheet" href="/css/stileForm.css" />
  	</head>
  
  	<body>
		 <header th:insert="~{/fragments/fragments.html :: header}"></header>
		 <div class="container text-center">
    		<h1>SIW Recipes </h1>
		<h3>aggiugi ingredienti</h3>
      </div>

	<div>
		<form th:action="@{/user/newRecipe}" method="post"
			th:object="${recipe}">
			<fieldset>
			<legend>Categoria</legend>
				<!-- categoria -->
				<div th:if="${categories">
					<select th:field="*{category}">
						<option th:each="cat : ${categories}" th:value="${cat}"
							th:title="${cat.name}" th:text="${cat.name}"></option>
					</select>
				</div>
			</fieldset>
				<!-- titolo -->
				<fieldset>
				<div>
					<label for="title">Titolo:</label><br> 
					
					<div th:if="*{title}">
					<input type="text"
						th:field="*{title}" th:placeholder="*{title}"
						name="title"> 
					</div>	
					<div th:unless="*{title}">
									<input type="text"
						th:field="*{title}" placeholder="Inserire il titolo..."
						name="title">
					</div>
						<span th:if="${#fields.hasErrors('title')}"
						th:errors="*{title}"></span>
				</div>
				</fieldset>
				<!-- presentazione -->
				<div>
					<label for="presentationText">presentazione:</label><br>
					<textarea rows="10" cols="45" th:field="*{presentationText}"
						placeholder="Inserire la presentazione..." name="presentationText"></textarea>
					<span th:if="${#fields.hasErrors('presentationText')}"
						th:errors="*{presentationText}"></span>
				</div>
				<!-- preparazione -->
				<div>
					<label for="preparationText">preparazione:</label><br>
					<textarea rows="10" cols="45" th:field="*{preparationText}"
						placeholder="Inserire la preparazione..." name="preparationText"></textarea>
					<span th:if="${#fields.hasErrors('preparationText')}"
						th:errors="*{preparationText}"></span>
				</div>
				
		<!-- per inserire gli ingredienti -->		
				<div>
				<fieldset>
				<legend>Ingredienti</legend>
				<span><button type="submit" formmethod="post" th:formaction="@{/user/ingredientsToAdd}">Aggiungi ingredienti</button></span>
				</fieldset>
				</div>

				<!-- conferma -->
										<div>
					<span><button class="button" type="submit" title="Conferma">Conferma</button></span>
					<span><button class="button" type="reset" title="Resetta">Resetta</button></span>
				</div>
		</form>

	</div>
</body>

 <!--   	
    	<form th:action="@{/user/newRecipe}" method="POST" th:object="${recipe}">
			<h1>Aggiungi una nuova ricetta </h1>
      	<div th:if="${#fields.hasGlobalErrors()}" class="alertErrore mx-auto alert bg-danger alert-dismissible fade show">
    				<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    				<strong><p th:each="err : ${#fields.globalErrors()}" th:text="${err}">...</p></strong>
  				</div>
		<fieldset>
			<legend><span class="number">1</span> Titolo</legend>
			<span th:if="*{title}">
            	<input type="text" placeholder="*{title}" th:field="*{title}" name="title">
            </span>
            <span th:unless="*{title}">
				<input type="text" placeholder="Titolo" th:field="*{title}" name="title"/>
			</span>
			<span th:if="${#fields.hasErrors('title')}" th:errors="*{title}"></span>
		</fieldset>
		
		<fieldset>
			<legend><span class="number">2</span>Presentazione</legend>
			<span th:if="*{presentationText}">
            	<textarea rows="4" cols="52" th:field="*{presentationText}"></textarea>
            </span>
            <span th:unless="*{presentationText}">
				<textarea rows="4" cols="52" placeholder="Scrivi qui il testo" th:field="*{presentationText}"></textarea>
			</span>
			<span th:if="${#fields.hasErrors('presentationText')}" th:errors="*{presentationText}"></span>
		</fieldset>
		
		<fieldset>
			<legend><span class="number">3</span>Preparazione</legend>
			<span th:if="*{preparationText}">
            	<textarea rows="4" cols="52" th:field="*{preparationText}"></textarea>
            </span>
            <span th:unless="*{preparationText}">
				<textarea rows="4" cols="52" placeholder="Scrivi qui il testo" th:field="*{preparationText}"></textarea>
			</span>
			<span th:if="${#fields.hasErrors('preparationText')}" th:errors="*{preparationText}"></span>
		</fieldset>
		
		<button class="mt-3 formButton" type="submit">Conferma</button>
    	</form>
	</body> -->

</html>