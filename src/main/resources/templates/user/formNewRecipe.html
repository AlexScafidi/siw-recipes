<!DOCTYPE html>
<html>
	<head>
		<meta charset="ISO-8859-1">
    	<meta name="viewport" content="width=device-width, initial-scale=1">
    	<title>Nuova ricetta - siw recipe</title>
    	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    	<link rel="stylesheet" href="/css/style.css" />
    	<link rel="stylesheet" href="/css/stileForm.css" />
  	</head>
  
  	<body>
		 <header th:insert="~{/fragments/fragments.html :: header}"></header>
		 <div class="container text-center">
    		<h1>SIW Recipes </h1>
		<h3>aggiugi ingredienti</h3>
      </div>

	<div>
		<form th:action="@{/user/ingredientsToAdd}" method="post"
			th:object="${recipe}" enctype="multipart/form-data">
			<h1>Aggiungi una ricetta</h1>
			<div th:if="${#fields.hasGlobalErrors()}" class="alertErrore mx-auto alert bg-danger alert-dismissible fade show">
    			<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    			<strong><p th:each="err : ${#fields.globalErrors()}" th:text="${err}">...</p></strong>
  			</div>
  			<!-- categoria -->
  			<fieldset>
				  <legend><span class="number">1</span> Scegli la categoria della ricetta</legend>
                  <div style="margin-left: 14%; color: red;" th:if="${#fields.hasErrors('category')}" th:errors="*{category}"></div>
                  <select style="margin-left: 14%;" name="categorie" th:field="*{category}">
					  <option th:each="cat : ${categories}" th:value="${cat.id}"
							th:title="${cat.name}" th:text="${cat.name}"></option>

				  </select>
            </fieldset>	
			<!-- titolo -->
			<fieldset>
				<legend><span class="number">2</span> Titolo</legend>
                <div th:if="${#fields.hasErrors('title')}" th:errors="*{title}" style="color: red;"></div>
                <input type="text" placeholder="Inserire il titolo..." th:field="*{title}" name="title">
            </fieldset>
			<!-- presentazione -->
			<fieldset>
                <legend><span class="number">3</span> Presentazione ricetta</legend>
                <div th:if="${#fields.hasErrors('presentationText')}" th:errors="*{presentationText}" style="color: red;"></div>
                <textarea rows="10" cols="45" placeholder="Inserire la presentazione..." th:field="*{presentationText}" name="presentationText"></textarea>
            </fieldset>
			<!-- preparazione -->
			<fieldset>
                <legend><span class="number">4</span> Preparazione ricetta</legend>
                <div th:if="${#fields.hasErrors('preparationText')}" th:errors="*{preparationText}" style="color: red;"></div>
                <textarea rows="10" cols="45" placeholder="Inserire la preparazione..." th:field="*{preparationText}" name="preparationText"></textarea>
            </fieldset>
			<!-- immagine -->
			<fieldset>
                <legend><span class="number">5</span> Carica Immagine</legend>
                <input type="file" name="file"  accept="image/png, image/jpeg"/>
            </fieldset>
			<!-- conferma -->
			<button class="mt-3 formButton" type="submit">Conferma</button>

		</form>

	</div>
</body>

 <!--   	
    	<form th:action="@{/user/newRecipe}" method="POST" th:object="${recipe}">
			<h1>Aggiungi una nuova ricetta </h1>
      	<div th:if="${#fields.hasGlobalErrors()}" class="alertErrore mx-auto alert bg-danger alert-dismissible fade show">
    				<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    				<strong><p th:each="err : ${#fields.globalErrors()}" th:text="${err}">...</p></strong>
  				</div>
		<fieldset>
			<legend><span class="number">1</span> Titolo</legend>
			<span th:if="*{title}">
            	<input type="text" placeholder="*{title}" th:field="*{title}" name="title">
            </span>
            <span th:unless="*{title}">
				<input type="text" placeholder="Titolo" th:field="*{title}" name="title"/>
			</span>
			<span th:if="${#fields.hasErrors('title')}" th:errors="*{title}"></span>
		</fieldset>
		
		<fieldset>
			<legend><span class="number">2</span>Presentazione</legend>
			<span th:if="*{presentationText}">
            	<textarea rows="4" cols="52" th:field="*{presentationText}"></textarea>
            </span>
            <span th:unless="*{presentationText}">
				<textarea rows="4" cols="52" placeholder="Scrivi qui il testo" th:field="*{presentationText}"></textarea>
			</span>
			<span th:if="${#fields.hasErrors('presentationText')}" th:errors="*{presentationText}"></span>
		</fieldset>
		
		<fieldset>
			<legend><span class="number">3</span>Preparazione</legend>
			<span th:if="*{preparationText}">
            	<textarea rows="4" cols="52" th:field="*{preparationText}"></textarea>
            </span>
            <span th:unless="*{preparationText}">
				<textarea rows="4" cols="52" placeholder="Scrivi qui il testo" th:field="*{preparationText}"></textarea>
			</span>
			<span th:if="${#fields.hasErrors('preparationText')}" th:errors="*{preparationText}"></span>
		</fieldset>
		
		<button class="mt-3 formButton" type="submit">Conferma</button>
    	</form>
	</body> -->

</html>