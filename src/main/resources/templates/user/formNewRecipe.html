<!DOCTYPE html>
<html>
	<head>
		<meta charset="ISO-8859-1">
    	<meta name="viewport" content="width=device-width, initial-scale=1">
    	<title>Nuova ricetta - siw recipe</title>
    	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    	<link rel="stylesheet" href="/css/style.css" />
    	<link rel="stylesheet" href="/css/stileForm.css" />
  	</head>
  
  	<body>
		 <header th:insert="~{/fragments/fragments.html :: header}"></header>
		 <div class="container text-center">
    		<h1>SIW Recipes </h1>
    	</div>
    	
    	<form th:action="@{/user/newRecipe}" method="POST" th:object="${recipe}">
			<h1>Aggiungi una nuova ricetta </h1>
      	<div th:if="${#fields.hasGlobalErrors()}" class="alertErrore mx-auto alert bg-danger alert-dismissible fade show">
    				<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    				<strong><p th:each="err : ${#fields.globalErrors()}" th:text="${err}">...</p></strong>
  				</div>
		<fieldset>
			<legend><span class="number">1</span> Titolo</legend>
			<span th:if="*{title}">
            	<input type="text" placeholder="*{title}" th:field="*{title}" name="title">
            </span>
            <span th:unless="*{title}">
				<input type="text" placeholder="Titolo" th:field="*{title}" name="title"/>
			</span>
			<span th:if="${#fields.hasErrors('title')}" th:errors="*{title}"></span>
		</fieldset>
		
		<fieldset>
			<legend><span class="number">2</span>Presentazione</legend>
			<span th:if="*{presentationText}">
            	<textarea rows="4" cols="52" th:field="*{presentationText}"></textarea>
            </span>
            <span th:unless="*{presentationText}">
				<textarea rows="4" cols="52" placeholder="Scrivi qui il testo" th:field="*{presentationText}"></textarea>
			</span>
			<span th:if="${#fields.hasErrors('presentationText')}" th:errors="*{presentationText}"></span>
		</fieldset>
		
		<fieldset>
			<legend><span class="number">3</span>Preparazione</legend>
			<span th:if="*{preparationText}">
            	<textarea rows="4" cols="52" th:field="*{preparationText}"></textarea>
            </span>
            <span th:unless="*{preparationText}">
				<textarea rows="4" cols="52" placeholder="Scrivi qui il testo" th:field="*{preparationText}"></textarea>
			</span>
			<span th:if="${#fields.hasErrors('preparationText')}" th:errors="*{preparationText}"></span>
		</fieldset>
		
		<button class="mt-3 formButton" type="submit">Conferma</button>
    	</form>
	</body>
</html>